-- --------------------------------------------------------
-- Host:                         127.0.0.1
-- Server version:               10.1.13-MariaDB - mariadb.org binary distribution
-- Server OS:                    Win32
-- HeidiSQL Version:             9.4.0.5125
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;


-- Dumping database structure for travel_sharing
DROP DATABASE IF EXISTS `travel_sharing`;
CREATE DATABASE IF NOT EXISTS `travel_sharing` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;
USE `travel_sharing`;

-- Dumping structure for table travel_sharing.posts
DROP TABLE IF EXISTS `posts`;
CREATE TABLE IF NOT EXISTS `posts` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `date_published` datetime NOT NULL,
  `town_id_from` int(11) NOT NULL,
  `town_id_to` int(11) NOT NULL,
  `seats` tinyint(4) NOT NULL,
  `departure_time` datetime NOT NULL,
  `price` decimal(10,0) NOT NULL,
  `description` text,
  PRIMARY KEY (`id`),
  KEY `FK_posts_users` (`user_id`),
  KEY `FK_posts_towns_from` (`town_id_from`),
  KEY `FK_posts_towns_to` (`town_id_to`),
  CONSTRAINT `FK_posts_towns_from` FOREIGN KEY (`town_id_from`) REFERENCES `towns` (`id`),
  CONSTRAINT `FK_posts_towns_to` FOREIGN KEY (`town_id_to`) REFERENCES `towns` (`id`),
  CONSTRAINT `FK_posts_users` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4;

-- Dumping data for table travel_sharing.posts: ~10 rows (approximately)
/*!40000 ALTER TABLE `posts` DISABLE KEYS */;
INSERT INTO `posts` (`id`, `user_id`, `date_published`, `town_id_from`, `town_id_to`, `seats`, `departure_time`, `price`, `description`) VALUES
	(1, 1, '2017-04-06 19:29:28', 3, 1, 2, '2017-04-10 13:00:00', 20, NULL),
	(2, 21, '2017-03-12 16:42:26', 1, 3, 1, '2017-07-15 15:30:00', 15, NULL),
	(9, 22, '2017-03-13 12:53:15', 42, 54, 1, '2017-04-23 04:00:00', 16, ''),
	(11, 22, '2017-03-13 02:03:08', 257, 7, 1, '2017-03-17 04:00:00', 5, ''),
	(12, 22, '2017-03-13 02:04:12', 1, 2, 1, '2017-03-17 05:00:00', 5, ''),
	(13, 22, '2017-03-13 02:07:58', 18, 17, 1, '2017-03-18 14:00:00', 14, ''),
	(15, 22, '2017-03-13 02:15:11', 7, 111, 1, '2017-03-17 23:00:00', 12, ''),
	(16, 22, '2017-03-13 02:17:31', 10, 73, 2, '2017-03-01 23:00:00', 10, ''),
	(17, 22, '2017-03-13 02:19:34', 10, 54, 1, '2017-03-03 22:00:00', 12, ''),
	(18, 22, '2017-03-13 02:29:10', 11, 202, 2, '2017-03-24 22:00:00', 23, '');
/*!40000 ALTER TABLE `posts` ENABLE KEYS */;

-- Dumping structure for table travel_sharing.towns
DROP TABLE IF EXISTS `towns`;
CREATE TABLE IF NOT EXISTS `towns` (
  `id` int(11) NOT NULL,
  `town_name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- Dumping data for table travel_sharing.towns: ~257 rows (approximately)
/*!40000 ALTER TABLE `towns` DISABLE KEYS */;
INSERT INTO `towns` (`id`, `town_name`) VALUES
	(1, 'Айтос'),
	(2, 'Аксаково'),
	(3, 'Албена '),
	(4, 'Алфатар'),
	(5, 'Антоново '),
	(6, 'Априлци'),
	(7, 'Ардино'),
	(8, 'Асеновград '),
	(9, 'Ахелой'),
	(10, 'Ахтопол '),
	(11, 'Балчик '),
	(12, 'Банкя'),
	(13, 'Банско'),
	(14, 'Баня'),
	(15, 'Батак'),
	(16, 'Батановци'),
	(17, 'Белене'),
	(18, 'Белица'),
	(19, 'Белово'),
	(20, 'Белоградчик'),
	(21, 'Белослав '),
	(22, 'Берковица'),
	(23, 'Благоевград'),
	(24, 'Бобов дол'),
	(25, 'Бобошево'),
	(26, 'Божурище '),
	(27, 'Бойчиновци'),
	(28, 'Болярово '),
	(29, 'Борово'),
	(30, 'Ботевград'),
	(31, 'Брацигово'),
	(32, 'Брегово'),
	(33, 'Брезник'),
	(34, 'Брезово'),
	(35, 'Брусарци'),
	(36, 'Бургас'),
	(37, 'Бухово'),
	(38, 'Българово'),
	(39, 'Бяла'),
	(40, 'Бяла Слатина'),
	(41, 'Бяла черква'),
	(42, 'Варна'),
	(43, 'Велики Преслав'),
	(44, 'Велико Търново'),
	(45, 'Велинград'),
	(46, 'Ветово'),
	(47, 'Ветрен'),
	(48, 'Видин'),
	(49, 'Враца'),
	(50, 'Вълчедръм'),
	(51, 'Вълчи дол'),
	(52, 'Върбица '),
	(53, 'Вършец'),
	(54, 'Габрово'),
	(55, 'Генерал Тошево'),
	(56, 'Главиница'),
	(57, 'Глоджево'),
	(58, 'Годеч'),
	(59, 'Горна Оряховица'),
	(60, 'Гоце Делчев'),
	(61, 'Грамада'),
	(62, 'Гулянци'),
	(63, 'Гурково'),
	(64, 'Гълъбово'),
	(65, 'Две могили'),
	(66, 'Дебелец'),
	(67, 'Девин'),
	(68, 'Девня'),
	(69, 'Джебел'),
	(70, 'Димитровград'),
	(71, 'Димово'),
	(72, 'Добринище'),
	(73, 'Добрич'),
	(74, 'Долна баня'),
	(75, 'Долна Митрополия'),
	(76, 'Долна Оряховица'),
	(77, 'Долни Дъбник'),
	(78, 'Долни чифлик'),
	(79, 'Доспат'),
	(80, 'Драгоман'),
	(81, 'Дряново'),
	(82, 'Дулово'),
	(83, 'Дунавци'),
	(84, 'Дупница'),
	(85, 'Дългопол'),
	(86, 'Елена '),
	(87, 'Елин Пелин'),
	(88, 'Елхово'),
	(89, 'Етрополе'),
	(90, 'Завет'),
	(91, 'Земен'),
	(92, 'Златарица'),
	(93, 'Златица'),
	(94, 'Златоград'),
	(95, 'Ивайловград'),
	(96, 'Игнатиево'),
	(97, 'Искър '),
	(98, 'Исперих'),
	(99, 'Ихтиман'),
	(100, 'Каблешково'),
	(101, 'Каварна'),
	(102, 'Казанлък'),
	(103, 'Калофер'),
	(104, 'Камено'),
	(105, 'Каолиново'),
	(106, 'Карлово'),
	(107, 'Карнобат'),
	(108, 'Каспичан'),
	(109, 'Кермен'),
	(110, 'Килифарево'),
	(111, 'Китен'),
	(112, 'Клисура'),
	(113, 'Кнежа'),
	(114, 'Козлодуй'),
	(115, 'Койнаре'),
	(116, 'Копривщица'),
	(117, 'Костандово'),
	(118, 'Костенец'),
	(119, 'Костинброд'),
	(120, 'Котел'),
	(121, 'Кочериново'),
	(122, 'Кранево'),
	(123, 'Кресна'),
	(124, 'Криводол'),
	(125, 'Кричим'),
	(126, 'Крумовград'),
	(127, 'Кубрат'),
	(128, 'Куклен'),
	(129, 'Кула'),
	(130, 'Кърджали'),
	(131, 'Кюстендил'),
	(132, 'Левски'),
	(133, 'Летница'),
	(134, 'Ловеч'),
	(135, 'Лозница'),
	(136, 'Лом'),
	(137, 'Луковит'),
	(138, 'Лъки'),
	(139, 'Любимец'),
	(140, 'Лясковец'),
	(141, 'Мадан'),
	(142, 'Маджарово'),
	(143, 'Малко Търново'),
	(144, 'Мартен'),
	(145, 'Мездра'),
	(146, 'Мелник'),
	(147, 'Меричлери'),
	(148, 'Мизия'),
	(149, 'Момин проход'),
	(150, 'Момчилград'),
	(151, 'Монтана'),
	(152, 'Мъглиж'),
	(153, 'Неделино'),
	(154, 'Несебър'),
	(155, 'Николаево'),
	(156, 'Никопол '),
	(157, 'Нова Загора'),
	(158, 'Нови Искър '),
	(159, 'Нови пазар'),
	(160, 'Обзор'),
	(161, 'Омуртаг'),
	(162, 'Опака'),
	(163, 'Оряхово'),
	(164, 'Павел баня'),
	(165, 'Павликени'),
	(166, 'Пазарджик'),
	(167, 'Панагюрище'),
	(168, 'Перник'),
	(169, 'Перущица'),
	(170, 'Петрич'),
	(171, 'Пещера'),
	(172, 'Пирдоп'),
	(173, 'Плачковци'),
	(174, 'Плевен'),
	(175, 'Плиска'),
	(176, 'Пловдив'),
	(177, 'Полски Тръмбеш'),
	(178, 'Поморие'),
	(179, 'Попово'),
	(180, 'Пордим'),
	(181, 'Правец'),
	(182, 'Приморско'),
	(183, 'Провадия'),
	(184, 'Първомай'),
	(185, 'Раднево'),
	(186, 'Радомир'),
	(187, 'Разград'),
	(188, 'Разлог'),
	(189, 'Ракитово'),
	(190, 'Раковски'),
	(191, 'Рила'),
	(192, 'Роман'),
	(193, 'Рудозем'),
	(194, 'Русе'),
	(195, 'Садово'),
	(196, 'Самоков'),
	(197, 'Сандански '),
	(198, 'Сапарева баня'),
	(199, 'Свети Влас'),
	(200, 'Свиленград'),
	(201, 'Свищов'),
	(202, 'Своге'),
	(203, 'Севлиево'),
	(204, 'Сеново'),
	(205, 'Септември'),
	(206, 'Силистра'),
	(207, 'Симеоновград'),
	(208, 'Симитли'),
	(209, 'Славяново'),
	(210, 'Сливен'),
	(211, 'Сливница'),
	(212, 'Сливо поле'),
	(213, 'Смолян'),
	(214, 'Смядово'),
	(215, 'Созопол'),
	(216, 'Сопот'),
	(217, 'София'),
	(218, 'Средец'),
	(219, 'Стамболийски'),
	(220, 'Стара Загора'),
	(221, 'Стражица'),
	(222, 'Стралджа'),
	(223, 'Стрелча'),
	(224, 'Суворово'),
	(225, 'Сунгурларе'),
	(226, 'Сухиндол'),
	(227, 'Съединение'),
	(228, 'Сърница'),
	(229, 'Твърдица'),
	(230, 'Тервел'),
	(231, 'Тетевен'),
	(232, 'Тополовград'),
	(233, 'Троян'),
	(234, 'Трън'),
	(235, 'Тръстеник'),
	(236, 'Трявна'),
	(237, 'Тутракан'),
	(238, 'Търговище'),
	(239, 'Угърчин '),
	(240, 'Хаджидимово'),
	(241, 'Харманли'),
	(242, 'Хасково'),
	(243, 'Хисаря'),
	(244, 'Цар Калоян'),
	(245, 'Царево'),
	(246, 'Чепеларе'),
	(247, 'Червен бряг'),
	(248, 'Черноморец'),
	(249, 'Чипровци'),
	(250, 'Чирпан'),
	(251, 'Шабла'),
	(252, 'Шивачево'),
	(253, 'Шипка'),
	(254, 'Шумен'),
	(255, 'Ябланица'),
	(256, 'Якоруда'),
	(257, 'Ямбол');
/*!40000 ALTER TABLE `towns` ENABLE KEYS */;

-- Dumping structure for table travel_sharing.users
DROP TABLE IF EXISTS `users`;
CREATE TABLE IF NOT EXISTS `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(50) NOT NULL,
  `password` varchar(255) NOT NULL,
  `first_name` varchar(255) NOT NULL,
  `last_name` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `date_of_birth` datetime NOT NULL,
  `gender` varchar(50) NOT NULL,
  `phone_number` varchar(255) NOT NULL,
  `rating` tinyint(4) DEFAULT '0',
  `picture` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=35 DEFAULT CHARSET=utf8mb4;

-- Dumping data for table travel_sharing.users: ~8 rows (approximately)
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
INSERT INTO `users` (`id`, `username`, `password`, `first_name`, `last_name`, `email`, `date_of_birth`, `gender`, `phone_number`, `rating`, `picture`) VALUES
	(1, 'john', '123', 'John', 'Doe', 'john@gmail.com', '1996-03-06 20:00:00', 'male', '+359887123456', 0, '0'),
	(18, 'anton', '$2y$10$BNw0g6jPDvWsWsohq4rcaOetDe1jFUN8n3/M5VpZY8pEe1yOvcxlS', 'Антон', 'Петров', 'toni@gmail.com', '1996-07-20 00:00:00', 'male', '+359888246893', 0, NULL),
	(21, 'ivo', '$2y$10$gRve5KpacU9phhZY5/AkSeRsDOSLsBFCwXyjfTgmP26VMWKi4cblO', 'Иво', 'Георгиев', 'ivo@mail.com', '1996-07-20 00:00:00', 'male', '+359887457386', 0, NULL),
	(22, 'yana', '$2y$10$mg4YBrG4atVRUC3dKk81pePoQc3zyUawVXB7UgK8cQwQ14FclwR62', 'Яна', 'Димитрова', 'yana@gmail.com', '1992-11-01 00:00:00', 'female', '+359887457386', 0, NULL),
	(26, 'chris', '$2y$10$goruxt/0E7rAzqblK4iOs.2Ij73CfkWvfeBP8mGQ.07zkEbmcwmO2', 'Кристиан', 'Ангелов', 'chris@mail.com', '1992-05-30 00:00:00', 'male', '+359888197795', 0, NULL),
	(28, 'angel', '$2y$10$EwdKJtgj9et0gQRmtfh7lOzk2aR9H92ntzyZ8muBX9ka0NwNLS0pa', 'Ангел', 'Начев', 'angel@mail.bg', '1992-12-02 00:00:00', 'male', '+359888192038', 0, NULL),
	(29, 'misho', '$2y$10$x4xIGBb6wvUXPdf4rpLzWeHcP.MXslcq2HB0S9YTtFZsVdo7jqK8u', 'Михаил', 'Божинов', 'misho@mail.com', '1988-05-15 00:00:00', 'male', '+359888123654', 0, NULL),
	(33, '&lt;ul&gt;&lt;li&gt;borry&lt;/li&gt;&lt;/ul&gt;', '$2y$10$FGJlkkMKj/n3KEPxG9Gl1O.YX58VEsmlcSOtrAqAYdem93Cu6WYsy', '&lt;ul&gt;&lt;li&gt;borry&lt;/li&gt;&lt;/ul&gt;', '&lt;ul&gt;&lt;li&gt;borry&lt;/li&gt;&lt;/ul&gt;', 'borry@gmail.com', '1991-01-01 00:00:00', 'female', '+359887457386', 0, NULL),
	(34, 'ana', '$2y$10$q7rrdIzm6Rwh2UatzXhFj.AYsKBj5Ejgj4VLg0JmpCeut5jP9rozm', 'Ана', 'Димитрова', 'ana@gmail.com', '1994-07-22 00:00:00', 'female', '+359888123654', 0, NULL);
/*!40000 ALTER TABLE `users` ENABLE KEYS */;

/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IF(@OLD_FOREIGN_KEY_CHECKS IS NULL, 1, @OLD_FOREIGN_KEY_CHECKS) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
